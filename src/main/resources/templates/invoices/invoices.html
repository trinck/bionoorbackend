<!DOCTYPE html>
<html lang="en" data-bs-theme="light"  xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="index">
<head>
<meta charset="UTF-8">
<title>Invoices's listt</title>
<link rel="stylesheet" type="text/css" href="css/invoices/invoiceslist.css">
</head>
<body>
    <div style="width: 95%;"	class="container d-flex flex-column gap-4  " 	layout:fragment="content">
    
    <!-- start hearder commun with all pages -->
    	<header class="container  p-1" >
    		
    		<button class=" rounded-1 btn shadow" style="background-color: #1976d2; color: white">
    				<i class="bi bi-plus-lg"></i>Add invoice
    		</button>
    	</header>
    	
     <!-- end hearder commun with all pages -->
    
    
    
    <!-- start content -->
    <section class="shadow-sm container mb-3 bg-white p-1 pb-4 rounded-1" >
	    	
	    	
	    	<div class="d-flex flex-column gap-4 ">
	    	
	    	
	    	<!-- table card start -->
	    		<form class="card border-0 " method="get" th:action="@{/invoicesPages}">
	    	
	    		<div class="card-body ">
	    		
	    			<!-- table header -->
				<div class="bio-table-head d-flex gap-2 my-3">
					<div class=" w-25 d-flex gap-1  rounded-1 " id="search-parent">
						
						<i class="bi bi-search d-flex align-items-center"></i>
						<input type="search" name="mc" class=" "
							placeholder="search. . ." th:value="${mc}"  id="search">
						
																												
					</div>
					
					
					<div class="dropdown ">
						<button class="btn  rounded-1 btn-sm dropdown-toggle"  data-bs-toggle="dropdown" type="button" style="background-color: #1976d2; color: white">
							<i class="bi bi-filter"></i> Sort
						</button>
						
						<ul class="dropdown-menu">
							<li><a class="dropdown-item" href="#">Action</a></li>
							<li><a class="dropdown-item" href="#">Another action</a></li>
							<li><a class="dropdown-item" href="#">Something else here</a></li>
						</ul>
						
					</div>
					
					
					
					
					

				</div>
				<!-- table header end -->
	    	
	    		
					 <table class="table table-sm table-responsive table-hover align-middle">
	    				<thead>
	    					<tr>
	    						<th>Id</th> <th>Due date</th> <th>Bill from</th> <th>Bill to</th> <th>Status order</th> 	<th>#Order No</th>  <th>Status invoice</th> <th>Total amount</th> <th>Vat</th> <th>Edit</th>
	    					</tr>
	    				</thead>
	    				<tbody class=" ">
	    					<tr th:each="invoice:${invoices}">
	    						<td th:text="${invoice.id}"> </td>   <td><span class="badge text-bg-success " th:text="${#dates.format(invoice.dueDate, 'dd-MM-yyyy')}"></span></td> <td>candice  armane</td> <td th:text="${invoice.order.customer.username}"></td> <td><span class="badge text-bg-secondary" th:text="${invoice.order.status}"></span></td>   <td th:text="${invoice.order.id}"></td>   <td> <span class="badge text-bg-danger"> Not paid</span></td> <td th:text="${#numbers.formatDecimal(invoice.totalAmount,1,2)}"></td> <td th:text="${invoice.vat}">20</td> <td><div class="d-flex gap-3"><a class="" href="#"><i class="bi bi-pencil-fill text-secondary"></i></a> <a href="#"><i class="bi bi-x-lg text-danger"></i></a> <a th:href="@{/invoice(id=${invoice.id} )}"><i class="bi bi-arrow-right text-secondary"></i></a></div></td>
	    					</tr>
	    					<tr class="text-center" th:if="${#lists.size(invoices) == 0}">
								<td colspan="9" class="no-invoices"> <h3> No available Invoice</h3> </td>
							</tr> 					
	    						    					
	    					
	    				</tbody>
	    				
	    				<tfoot>

							
						</tfoot>
	    			</table>
	    			<!-- section pagination -->
	    			<div class="section-nav d-flex gap-3 " th:if="${#lists.size(invoices) > 0}">

							<nav aria-label="Page navigation">
								<ul class="pagination pagination-sm">
									<li  class="page-item"><a  th:class="page-link+${page == 0? ' disabled':''} "  th:href="@{invoicesPages(mc=${mc}, page= ${page -1 }, size = ${size}) }">Previous</a></li>
									<li th:each="value, status :${pages}" th:class="page-item+ ${page == status.index? ' active':'' }"><a class="page-link" th:href="@{invoicesPages(mc=${mc}, page= ${status.index }, size = ${size}) }" th:text="${status.index +1}"></a></li>
									<li class="page-item"><a th:class="page-link+ ${page+1 == totalPages? ' disabled':''}" th:href="@{invoicesPages(mc=${mc}, page= ${page +1 }, size = ${size}) }">Next</a></li>
								</ul>
							</nav>
							<div class="">
								<select class="form-select border-0  form-select-sm"
									id="pageNumber" name="size">
									<option th:attr="selected = ${size == 5}">5</option>
									<option th:attr="selected = ${size == 10}">10</option>
								</select>

							</div>

							<div th:if="${#lists.size(invoices) != 0}">
								<span class="text-secondary" th:inline="text">Total pages: [[${totalPages}]]</span>
							</div>
							
							<div th:if="${#lists.size(invoices) != 0}">
								<span class="text-secondary" th:inline="text">Total elemnts: [[${totalElements}]]</span>
							</div>
					</div>
						
				
	    			    		
	    		</div>
	    		
	    		
	    	
	    	</form>
	    	
	    	<!-- table card end -->
	    	
	    	</div>
	    	
	    	
	    </section>
    
    </div>
    
</body>
</html>